//?------------------------ modelos ------------------------------
const Genre = require('../models/Genre.model');
const Author = require('../models/Author.model');
const Book = require('../models/Book.model');
const User = require('../models/User.models');

//?------------------------- utils -------------------------------
const { validEnumGenre } = require('../../utils/validEnum');

//?----------------------- middleware -----------------------------

//?------------------------ librerÃ­a ------------------------------

//?------------------------- estados ------------------------------

//?------------------------- helpers ------------------------------
const setError = require('../../helpers/handleError');

//*-------------------------------- POST ------------------------------------------

//?---------------------------------------------------------------------------------
//! -------------------------------- CREATE ----------------------------------------
//?---------------------------------------------------------------------------------

const createGenre = async (req, res, next) => {
  try {
    await Genre.syncIndexes();
    const newGenre = new Genre(req.body);
    const saveGenre = await newGenre.save();

if(saveGenre){
    return res.status(200).json(saveGenre)
}else{
    return res.status(404).json('Couldnt create genre')
}
  } catch (error) {
    return next(setError(500, error.message || 'Error to create'));
  }
};

//*---------------------------------- read ---------------------------------------

//?---------------------------------------------------------------------------------
//! -------------------------------- GET BY ----------------------------------------
//?---------------------------------------------------------------------------------

//* ---------------------- get by id ---------------------------

//* ------------------------- get all ---------------------------

//* ------------------------- get by name ---------------------------

//*--------------------------------- PATCH ---------------------------------

//?---------------------------------------------------------------------------------
//! ---------------------------- GENERAL UPDATE ------------------------------------
//?---------------------------------------------------------------------------------

//?---------------------------------------------------------------------------------
//! ---------------------------- TOGGLE BOOKS --------------------------------------
//?-------------------------------- update -----------------------------------------

//*------------------------------- delete ---------------------------------------

//?---------------------------------------------------------------------------------
//! -------------------------------- DELETE ----------------------------------------
//?---------------------------------------------------------------------------------

module.exports = { createGenre };
